## 1.基础统计指标

### 1.1.浏览量

ClkLog浏览量的统计基于**浏览页面事件**。
用户每打开一个页面会被记录一次，同一页面被打开多次浏览量值累计计算。

由于神策不同客户端的SDK的浏览页面事件的事件名称不同，ClkLog根据神策SDK的浏览页面事件定义对各种端做了不同的统计分析处理。

[**各端SDK的浏览页面事件参考**](/tutorials/notes.md#_12浏览页面事件的集成)

### 1.2.访问次数
  
ClkLog访问次数的统计基于**访问会话ID（$event_session_id）**。

会话ID（`$event_session_id`）是每条采集上来的事件日志都应该要包含的属性。

神策WEB JS、Android、iOS、React Native版本的SDK都有实现会话，但需要开启或引用相关插件才能正常采集会话ID。然而并非所有的神策SDK都有实现会话，比如 uni-app 的SDK，对于这类未实现会话的SDK需要自己实现会话。

**神策SDK是否有实现会话的排查方法如下：**

集成神策SDK后，在调试模式或show_log后，在控制台上看到采集的日志属性中如果有`$event_session_id`且有值则说明神策SDK会话集成成功。

### 1.3.访客数

ClkLog访客数的统计基于统计时间段内采集的日志中的`distinct_id`去重数。

`distinct_id`是神策的用户标识 ，在匿名状态下就是匿名ID（`anonymous_id`），匿名ID是通过神策SDK自动生成）；
通过`sensors.login`方法完成简易用户关联至业务系统的用户的用户ID（一般为用户在业务系统中的唯一身份标识）后，SDK会同步修改`distinct_id`为业务系统的用户ID。

**基于全埋点的访客数的统计，同一用户在登录前和登录后会被统计为两个用户。**

### 1.4.IP数

ClkLog访客数的统计是统计时间段内的每一天访问应用的独立IP数的累计值，一天内同一IP多次访问应用只计算为一个IP。

如果同一局域网内使用同一个对外的公网IP，多个用户的访问只会被记录为一个IP。

如果单次访问中因为网络变化（如切换VNP）导致的IP变化，也可能会出现单次访问出现多个访问IP的情况。

### 1.5.平均访问页数

ClkLog平均访问页数 = 浏览量 / 访问次数

平均访问页数显示为空可能出现的原因：

1. 采集的日志数据中对应的客户端**没有**可用于统计分析的**浏览页面事件**
2. 采集的日志数据中没有会话ID或会话ID为空

### 1.6.平均访问时长

ClkLog平均访问时长 = 访问总时长 / 访问次数

访客的单次访问中，访问的总时长为打开第一个页面到退出或关闭最后一个页面的时间差。

平均访问时长显示为空可能出现的原因：

1. 单次会话相关的访问日志记录中只有一条日志记录？？
2. 采集的日志数据中没有会话ID（`$event_session_id`）或会话ID（`$event_session_id`）为空

### 1.7.跳出率

ClkLog跳出率 = 跳出次数 / 总访问次数 * 100%

跳出率是只浏览一个页面就离开或关闭应用的访问次数占总访问次数的百分比。

跳出率值显示为空可能出现的原因：

1. 统计时间段内所有的会话的**浏览页面事件**日志记录都**超过一条**
2. 采集的日志数据中没有会话ID（`$event_session_id`）或会话ID（`$event_session_id`）为空

### 1.8.新访客/老访客

ClkLog新访客/老访客的统计基于采集的日志记录中的`is_first_day`的值。

is_first_day：是否首日访问（从新用户第一次访问到当天的凌晨十二点之间的值都为真，之后为假，标识存在 storage 中）

## 2.特有统计指标

### 2.1.受访页面及标题

ClkLog受访页面及标题数据来源于**浏览页面事件**的 `$title` 和 `$url` 属性。

在埋点过程中可能会出现受访页面和标题不一致的情况，出现该问题的主要原因一般是由于开启了SDK全埋点的单页面应用（如vue、uniapp）。全埋点的浏览页面事件在进入页面时即会采集，所以如果是动态路由页面的动态标题此时埋点数据采集的可能会是上一个页面的标题，如果能在切换动态路由页面之前改变页面标题则可避免该问题。但对于纯动态标题的单页面应用，所有的标题的改变都是在进入路由页面后根据加载的数据来动态改变页面标题的情况，建议关闭SDK的自动采集页面浏览事件关闭，然后在页面标题改变后手动开启或手动埋点浏览页面事件。

[Web页面浏览事件采集方法参考](https://manual.sensorsdata.cn/sa/3.0/zh_cn/tech_sdk_client_web_high-109576411.html#id-高级功能（Web）-Web页面浏览事件采集)

### 2.2.结构化页面分析

结构化页面分析是通过树状结构化的模式来统计查看受访页面各项流量指标数据。

默认状态下结构化页面分析不会展示任何数据，需要做以下配置才能正常分析数据：

**社区版**：结构化页面分析仅支持web应用的结构化页面分析，对于web应用的结构化页面数据的正常加载，需要先完成埋点网站域名在 ClkLog 的 api 服务的 project-host 中的配置网站的访问域名（多个域名以逗号分隔），结构化页面分析才会有相关数据。

**付费版**：项目结构化页面数据的统计展示，WEB项目需要在【系统设置】-【项目管理】处配置项目对外访问的所有域名。
